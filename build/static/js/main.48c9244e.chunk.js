(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{11:function(e,t,n){e.exports={Column__title:"Column_Column__title__3hxRQ",Column__header:"Column_Column__header__1TKvw",Column__header__target:"Column_Column__header__target__3I8AV","Column__header__target--hide":"Column_Column__header__target--hide__1OCDV",Column__list:"Column_Column__list__FigH_",Column__footer:"Column_Column__footer__sMWS2"}},13:function(e,t,n){e.exports={Layout:"Layout_Layout__3gqqx",Layout__column:"Layout_Layout__column__1GcK1",Layout__column__content:"Layout_Layout__column__content__2LRLk","Layout__column__content--creating":"Layout_Layout__column__content--creating__1FD8x"}},14:function(e,t,n){e.exports={Input:"CreateForm_Input__ZvIx_","Input--headingStyle":"CreateForm_Input--headingStyle__5FWEg",CreateForm:"CreateForm_CreateForm__2X3DI",CreateForm__actions:"CreateForm_CreateForm__actions__2a4hE"}},17:function(e,t,n){e.exports={Button:"Button_Button__2BYYQ","Button--size--big":"Button_Button--size--big__1R7pb","Button--cover":"Button_Button--cover__2ah8A",Button__icon:"Button_Button__icon__2ncaH","Button--lvl--success":"Button_Button--lvl--success__1dD51"}},19:function(e,t,n){e.exports={Cart:"Cart_Cart__3iCUX",Cart__button:"Cart_Cart__button__iU6IR","Cart--ghost":"Cart_Cart--ghost__1TWRr"}},27:function(e,t,n){e.exports=n(35)},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),i=n(7),l=n(6),c=n(15),u=n(9),s=n(8),m=n(10),d=n(12),f=n.n(d),_=n(16),b=n(13),p=n.n(b),h=n(11),C=n.n(h),v=n(5),g=n(14),O=n.n(g),y=n(19),j=n.n(y),E=n(25),w=n(24),x=n.n(w),B=n(26),L=n(17),I=n.n(L),S=function(e){var t,n=e.text,a=e.level,r=e.size,l=e.cover,c=e.icon,u=Object(B.a)(e,["text","level","size","cover","icon"]),s=f()(I.a.Button,(t={},Object(i.a)(t,I.a["Button--lvl--success"],"success"===a),Object(i.a)(t,I.a["Button--size--big"],"big"===r),Object(i.a)(t,I.a["Button--cover"],l),t));return o.a.createElement("button",Object.assign({className:s},u),!!c&&o.a.createElement("div",{className:n?I.a.Button__icon:""},c),n)},k=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",style:{position:"absolute",width:0,height:0},id:"__SVG_SPRITE_NODE__"},o.a.createElement("symbol",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",id:"plus"},o.a.createElement("path",{fillRule:"evenodd",d:"M14.1412 6.64122H8.35878V0.858779C8.35878 0.400763 7.95802 0 7.5 0C7.04198 0 6.64122 0.400763 6.64122 0.858779V6.64122H0.858779C0.400763 6.64122 0 7.04198 0 7.5C0 7.95801 0.400763 8.35878 0.858779 8.35878H6.64122V14.1412C6.64122 14.5992 7.04198 15 7.5 15C7.95802 15 8.35878 14.5992 8.35878 14.1412V8.35878H14.1412C14.5992 8.35878 15 7.95801 15 7.5C15 7.04198 14.5992 6.64122 14.1412 6.64122Z",fill:"currentColor"})),o.a.createElement("symbol",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",id:"close"},o.a.createElement("path",{fillRule:"evenodd",d:"M7.5 6.71875L14.2188 0L15 0.78125L8.28125 7.5L15 14.2188L14.2188 15L7.5 8.28125L0.78125 15L0 14.2188L6.71875 7.5L0 0.78125L0.78125 0L7.5 6.71875Z",fill:"currentColor"})))},F=function(e,t){var n=t.width,a=void 0===n?15:n,r=t.height,i=void 0===r?15:r;return o.a.createElement("svg",{viewBox:"0 0 15 15",width:a,height:i,style:{display:"block"}},o.a.createElement("use",{xlinkHref:"#".concat(e),style:{fill:"currentcolor"}}))},R=function(e){return F("plus",e)},T=function(e){return F("close",e)},z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).inputRef=o.a.createRef(),n.formRef=o.a.createRef(),n.onSubmit=function(e){e&&e.preventDefault();var t=n.state.value;t?(n.setState({value:""}),n.props.onSubmit(t)):n.inputRef.current.focus()},n.onChange=function(e){n.setState({value:e.target.value})},n.onFocus=function(){document.addEventListener("keypress",n.handleKeypress)},n.onBlur=function(){document.removeEventListener("keypress",n.handleKeypress),n.props.submitOnBlur&&n.props.onSubmit(n.state.value)},n.checkOutsideClick=function(e){n.formRef.current.contains(e.target)||document.removeEventListener("click",n.checkOutsideClick)},n.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),n.onSubmit())},n.focusByInput=function(){var e=n.inputRef.current;x()(e),e.focus(),e.setSelectionRange(e.value.length,e.value.length)},n.closeForm=function(){n.props.onCloseForm&&n.props.onCloseForm()},n.state={value:e.defaultValue||""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.handleKeypress)}},{key:"componentDidMount",value:function(){this.focusByInput()}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.inputTag,a=t.submitBtnText,r=void 0===a?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":a,l=t.placeholder,c=t.disableActions,u=t.headindStyle,s=f()(O.a.Input,Object(i.a)({},O.a["Input--headingStyle"],u));return o.a.createElement("form",{onSubmit:this.onSubmit,className:O.a.CreateForm,ref:this.formRef},o.a.createElement(n||"input",{ref:this.inputRef,className:s,placeholder:l,value:e,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus}),!c&&o.a.createElement("div",{className:O.a.CreateForm__actions},o.a.createElement(S,{type:"submit",text:r,level:"success"}),o.a.createElement(S,{icon:o.a.createElement(T,null),onClick:this.closeForm})))}}]),t}(o.a.Component),N=Object(_.a)((function(e){var t=e.cart,n=Object(a.useState)(!1),r=Object(E.a)(n,2),i=r[0],l=r[1];return i?o.a.createElement(z,{inputTag:"textarea",onSubmit:function(e){t.saveTitle(e),l(!1)},defaultValue:t.title,submitOnBlur:!0,disableActions:!0,submitBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}):o.a.createElement("form",{onSubmit:function(){return l(!0)},className:j.a.Cart},o.a.createElement("button",{className:j.a.Cart__button,type:"submit",onClick:function(){return l(!0)}},t.title))})),A=n(20),U=function(e,t){var n=e+Math.random()*(t+1-e);return Math.floor(n)},V=function(e,t){return{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from,item:t[e.oldIndex]}};function D(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function H(e,t,n){var a=e.children[n]||null;e.insertBefore(t,a)}var M,W,K,Z,q,G,J,Q,X,Y,P,$,ee,te,ne,ae,oe,re,ie,le,ce,ue,se=n(2),me=n(3),de=(n(33),n(1)),fe=n(21),_e=n.n(fe),be=0,pe=(M=function e(){Object(l.a)(this,e),this.draggingColumn=null,Object(se.a)(this,"newCartTitle",W,this),Object(se.a)(this,"columns",K,this),Object(se.a)(this,"setNewCartTitle",Z,this),Object(se.a)(this,"moveColumns",q,this),Object(se.a)(this,"addColumn",G,this),Object(se.a)(this,"addCartToColumn",J,this),Object(se.a)(this,"closeAllCreatingCartForms",Q,this)},W=Object(me.a)(M.prototype,"newCartTitle",[de.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=Object(me.a)(M.prototype,"columns",[de.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return["\u041f\u043b\u0430\u043d","\u041e\u0446\u0435\u043d\u043a\u0430","\u0414\u0435\u043f\u043b\u043e\u0439"].map((function(t){return new Ce(t,e,20)}))}}),Z=Object(me.a)(M.prototype,"setNewCartTitle",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.newCartTitle=t}}}),q=Object(me.a)(M.prototype,"moveColumns",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.columns=_e()(e.columns,e.columns.findIndex((function(e){return e===t})),n)}}}),G=Object(me.a)(M.prototype,"addColumn",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.columns.push(new Ce(t,e))}}}),J=Object(me.a)(M.prototype,"addCartToColumn",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){t&&(e.columns.find((function(e){return e.id===n})).items.push(new ve(t)),e.newCartTitle="")}}}),Q=Object(me.a)(M.prototype,"closeAllCreatingCartForms",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.columns.forEach((function(e){return e.setIsOpenCreatingCart(!1)}))}}}),M),he=(X=function e(t){Object(l.a)(this,e),this.id=be++,Object(se.a)(this,"title",Y,this),Object(se.a)(this,"saveTitle",P,this),this.title=t.trim()},Y=Object(me.a)(X.prototype,"title",[de.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=Object(me.a)(X.prototype,"saveTitle",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.trim();n&&n!==e.title&&(e.title=n)}}}),X),Ce=($=function(e){function t(e,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Object(l.a)(this,t),a=Object(u.a)(this,Object(s.a)(t).call(this,e)),Object(se.a)(a,"isOpenCreatingCart",ee,Object(v.a)(a)),Object(se.a)(a,"items",te,Object(v.a)(a)),Object(se.a)(a,"setIsOpenCreatingCart",ne,Object(v.a)(a)),Object(se.a)(a,"moveCart",ae,Object(v.a)(a)),Object(se.a)(a,"addCart",oe,Object(v.a)(a)),Object(se.a)(a,"removeCart",re,Object(v.a)(a)),a.rootStore=n,o){var r=U(2,o);fetch("https://fish-text.ru/get?type=title&number=".concat(r)).then((function(e){return e.json()})).then((function(e){var t=e.text.split("\\n\\n");t.pop(),a.items=t.map((function(e){return new ve(e)}))}))}return a}return Object(m.a)(t,e),t}(he),ee=Object(me.a)($.prototype,"isOpenCreatingCart",[de.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=Object(me.a)($.prototype,"items",[de.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=Object(me.a)($.prototype,"setIsOpenCreatingCart",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t&&e.rootStore.closeAllCreatingCartForms(),e.isOpenCreatingCart=t}}}),ae=Object(me.a)($.prototype,"moveCart",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.items=_e()(e.items,e.items.findIndex((function(e){return e===t})),n)}}}),oe=Object(me.a)($.prototype,"addCart",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.items.splice(t,0,n)}}}),re=Object(me.a)($.prototype,"removeCart",[de.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.items.splice(t,1)}}}),$),ve=(ie=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))),Object(se.a)(n,"selected",le,Object(v.a)(n)),n}return Object(m.a)(t,e),t}(he),le=Object(me.a)(ie.prototype,"selected",[de.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie),ge=new pe,Oe=Object(_.a)(ce=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).listRef=o.a.createRef(),n.state={isEditing:!1},n.onUpdate=function(e){var t=n.props.column.items,a=V(e,t);D(a.element),H(a.parentElement,a.element,a.oldIndex),n.props.column.moveCart(a.item,a.newIndex)},n.onAdd=function(e){var t=ge.draggingColumn.props.column.items,a=V(e,t);D(a.element),n.props.column.addCart(a.newIndex,a.item)},n.onRemove=function(e){var t=n.props.column,a=t.items,o=t.removeCart,r=V(e,a);H(r.parentElement,r.element,r.oldIndex),o(r.oldIndex)},n.onChooseCart=function(e){e.item.style.width=e.item.clientWidth+"px",e.item.style.height=e.item.clientHeight+"px"},n.onUnchoose=function(e){e.item.style.width="auto",e.item.style.height="auto"},n.onStart=function(e){ge.draggingColumn=Object(v.a)(n)},n.onEnd=function(e){ge.draggingColumn=null},n.onCreateCartSubmit=function(e){ge.addCartToColumn(e,n.props.column.id)},n.setEditing=function(){n.setState({isEditing:!0})},n.saveColumnTitle=function(e){n.props.column.saveTitle(e),n.setState({isEditing:!1})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){A.a.create(this.listRef.current,{group:"carts",forceFallback:!0,filter:".".concat(O.a.CreateForm),ghostClass:j.a["Cart--ghost"],fallbackTolerance:10,onStart:this.onStart,onEnd:this.onEnd,onAdd:this.onAdd,onRemove:this.onRemove,onUpdate:this.onUpdate,onChoose:this.onChooseCart,onUnchoose:this.onUnchoose})}},{key:"render",value:function(){var e=this.props.column,t=e.title,n=e.items,a=e.isOpenCreatingCart,r=e.setIsOpenCreatingCart,l=this.state.isEditing,c=f()(C.a.Column__header__target,Object(i.a)({},C.a["Column__header__target--hide"],l));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:C.a.Column__header},o.a.createElement("button",{className:c,onClick:this.setEditing}),l?o.a.createElement(z,{onSubmit:this.saveColumnTitle,defaultValue:t,submitOnBlur:!0,disableActions:!0,headindStyle:!0}):o.a.createElement("h2",null,t)),o.a.createElement("div",{className:C.a.Column__list,ref:this.listRef},n&&n.map((function(e){return o.a.createElement(N,{cart:e,key:e.id})})),!!a&&o.a.createElement(z,{inputTag:"textarea",onSubmit:this.onCreateCartSubmit,defaultValue:ge.newCartTitle,onCloseForm:function(){return r(!1)},submitBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"})),!a&&o.a.createElement("div",{className:C.a.Column__footer},o.a.createElement(S,{style:{padding:"12px"},icon:o.a.createElement(R,null),size:"big",cover:!0,text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",onClick:function(){return r(!0)}})))}}]),t}(o.a.Component))||ce,ye=Object(_.a)(ue=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={openCreating:!1},n.columnsWrapRef=o.a.createRef(),n.setIsOpenCreating=function(e){n.setState({openCreating:e})},n.onUpdateSort=function(e){var t=V(e,ge.columns);D(t.element),H(t.parentElement,t.element,t.oldIndex),ge.moveColumns(t.item,t.newIndex)},n.onCreateColumn=function(e){ge.addColumn(e),n.setState({openCreating:!1})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){A.a.create(this.columnsWrapRef.current,{handle:".".concat(C.a.Column__header),forceFallback:!0,ghostClass:C.a.ghost,onUpdate:this.onUpdateSort,fallbackTolerance:10,direction:"horizontal"})}},{key:"render",value:function(){var e=this,t=this.state.openCreating,n=f()(p.a.Layout__column__content,Object(i.a)({},p.a["Layout__column__content--creating"],t));return o.a.createElement("div",{className:p.a.Layout,ref:this.columnsWrapRef},ge.columns&&ge.columns.map((function(e){return o.a.createElement("div",{className:p.a.Layout__column,key:e.id},o.a.createElement("div",{className:p.a.Layout__column__content},o.a.createElement(Oe,{column:e})))})),o.a.createElement("div",{className:"".concat(p.a.Layout__column," ").concat(p.a["Layout__column--dragIgnore"]),"data-draggable":!1},o.a.createElement("div",{className:n},t?o.a.createElement(z,{onSubmit:this.onCreateColumn,onCloseForm:function(){return e.setIsOpenCreating(!1)},submitBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438"}):o.a.createElement(S,{style:{padding:"12px"},icon:o.a.createElement(R,null),size:"big",cover:!0,text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443",onClick:function(){return e.setIsOpenCreating(!0)}}))),o.a.createElement(k,null))}}]),t}(o.a.Component))||ue;n(34);Object(r.render)(o.a.createElement(ye,null,o.a.createElement(Oe,{column:null})),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.48c9244e.chunk.js.map